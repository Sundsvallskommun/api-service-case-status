openapi: 3.0.1
info:
  title: support-management
  contact: {}
  license:
    name: MIT License
    url: https://opensource.org/licenses/MIT
  version: "12.0"
servers:
- url: http://localhost:61536
  description: Generated server url
tags:
- name: Errand attachments
  description: Errand attachments operations
- name: Errand Parameters
  description: Errand parameter operations
- name: Configuration for namespace
  description: Namespace configuration operations
- name: Configuration message-exchange sync
  description: Configuration for message-exchange scheduled syncing job
- name: Metadata for categories
  description: Category metadata operations
- name: Revisions
  description: Errand and errand note revision operations
- name: Metadata for labels
  description: Label metadata operations
- name: Errand notes
  description: Errand notes operations
- name: Metadata for contact reasons
  description: Contact reason metadata operations
- name: Errand events
  description: Errand event operations
- name: User notifications
  description: User notifications operations
- name: Metadata for external ID types
  description: ExternalIdType metadata operations
- name: Metadata
  description: Metadata operations
- name: Metadata for roles
  description: Role metadata operations
- name: Time measures
  description: Time measure operations
- name: Metadata for statuses
  description: Status metadata operations
- name: Errand communication
  description: Errand communication operations
- name: Configuration for email integration
  description: Settings for email integration per municipality/namespace
- name: Errands
  description: Errand operations
paths:
  /{municipalityId}/{namespace}/namespace-config:
    get:
      tags:
      - Configuration for namespace
      summary: Read namespace config
      description: Fetches namespace config for a namespace/municipality
      operationId: readNamespaceConfig
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NamespaceConfig"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    put:
      tags:
      - Configuration for namespace
      summary: Update namespace config
      description: Update config that is used within the namespace
      operationId: updateNamespaceConfig
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NamespaceConfig"
        required: true
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Configuration for namespace
      summary: Create namespace config
      description: Create config that is used within the namespace
      operationId: createNamespaceConfig
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NamespaceConfig"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Configuration for namespace
      summary: Delete namespace config
      description: Deletes the config for a namespace/municipality
      operationId: deleteNamespaceConfig
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/labels:
    get:
      tags:
      - Metadata for labels
      summary: Get label structure
      description: Get label structure for provided namespace and municipality
      operationId: getLabels
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Labels"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    put:
      tags:
      - Metadata for labels
      summary: Update label structure
      description: Update label structure for provided namespace and municipality
      operationId: updateLabels
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/Label"
        required: true
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Metadata for labels
      summary: Create label structure
      description: Create label structure for provided namespace and municipality
      operationId: createLabels
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/Label"
        required: true
      responses:
        "202":
          description: Successful operation
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Metadata for labels
      summary: Delete label structure
      description: Delete label structure for provided namespace and municipality
      operationId: deleteLabels
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/notifications/global-acknowledged:
    put:
      tags:
      - User notifications
      summary: Global acknowledge notifications
      description: Set the globalAcknowledged-attribute to 'true' for all notifications
        on the errand
      operationId: globalAcknowledgeNotification
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "204":
          description: Successful operation
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication/{communicationId}/viewed/{isViewed}:
    put:
      tags:
      - Errand communication
      description: Set viewed status for communication.
      operationId: updateViewedStatus
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: communicationId
        in: path
        description: communication ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: isViewed
        in: path
        description: If a message is viewed
        required: true
        schema:
          type: boolean
        example: true
      responses:
        "204":
          description: No content - Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/email-integration-config:
    get:
      tags:
      - Configuration for email integration
      summary: Read email integration config
      description: Fetches email integration config for a municipality/namespace
      operationId: readEmailIntegrationConfig
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmailIntegration"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    put:
      tags:
      - Configuration for email integration
      summary: Update email integration config
      description: Update email integration config that fetches emails from email-reader
        service
      operationId: updateEmailIntegrationConfig
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EmailIntegration"
        required: true
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Configuration for email integration
      summary: Create email integration config
      description: Create email integration config that fetches emails from email-reader
        service
      operationId: createEmailIntegrationConfig
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EmailIntegration"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Configuration for email integration
      summary: Delete email integration config
      description: Deletes the email integration config for a municipality/namespace
      operationId: deleteEmailIntegrationConfig
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/message-exchange-sync-config/{id}:
    put:
      tags:
      - Configuration message-exchange sync
      summary: Update message-exchange sync config
      description: Update message-exchange sync config
      operationId: updateMessageExchangeSyncConfig
      parameters:
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: id
        in: path
        description: Config id
        required: true
        schema:
          type: integer
          format: int64
        example: 1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MessageExchangeSync"
        required: true
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Configuration message-exchange sync
      summary: Delete message-exchange sync config
      description: Deletes the message-exchange sync config
      operationId: deleteMessageExchangeSyncConfig
      parameters:
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: id
        in: path
        description: Config id
        required: true
        schema:
          type: integer
          format: int64
        example: 1
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/statuses:
    get:
      tags:
      - Metadata for statuses
      summary: Get statuses
      description: Get all statuses for the namespace and municipality
      operationId: getStatuses
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Status"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Metadata for statuses
      summary: Create status
      description: Create new status for the namespace and municipality
      operationId: createStatus
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Status"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/roles:
    get:
      tags:
      - Metadata for roles
      summary: Get roles
      description: Get all roles for the namespace and municipality
      operationId: getRoles
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Role"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Metadata for roles
      summary: Create role
      description: Create new role for the namespace and municipality
      operationId: createRole
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Role"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/external-id-types:
    get:
      tags:
      - Metadata for external ID types
      summary: Get externalIdTypes
      description: Get all externalIdTypes for the namespace and municipality
      operationId: getExternalIdTypes
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ExternalIdType"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Metadata for external ID types
      summary: Create externalIdType
      description: Create new externalIdType for the namespace and municipality
      operationId: createExternalIdType
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ExternalIdType"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/contactreasons:
    get:
      tags:
      - Metadata for contact reasons
      summary: Get contact reasons for given namespace and municipalityId
      description: Get all contact reasons for the namespace and municipality
      operationId: getContactReasons
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ContactReason"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Metadata for contact reasons
      summary: Create contact reason
      description: Create new contact reason for the namespace and municipality
      operationId: createContactReason
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ContactReason"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/categories:
    get:
      tags:
      - Metadata for categories
      summary: Get categories and types
      description: Get all categories and their connected types for the namespace
        and municipality
      operationId: getCategories
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Category"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Metadata for categories
      summary: Create category
      description: Create new category for the namespace and municipality
      operationId: createCategory
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Category"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands:
    get:
      tags:
      - Errands
      summary: Read matching errands
      description: Query for errands with or without filters. The resource allows
        the client a wide range of variations on how to filter the result.
      operationId: findErrands
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: filter
        in: query
        description: "Syntax description: [spring-filter](https://github.com/turkraft/spring-filter/blob/85730f950a5f8623159cc0eb4d737555f9382bb7/README.md#syntax)"
        required: false
        schema:
          type: string
        example: categoryTag:'SUPPORT-CASE' and stakeholder.externalId:'81471222-5798-11e9-ae24-57fa13b361e1'
          and externalTags.key:'caseId' and externalTags.value:'111' and created>'2022-09-08T12:00:00.000+02:00'
      - name: page
        in: query
        description: Zero-based page index (0..N)
        required: false
        schema:
          minimum: 0
          type: integer
          default: 0
      - name: size
        in: query
        description: The size of the page to be returned
        required: false
        schema:
          minimum: 1
          type: integer
          default: 20
      - name: sort
        in: query
        description: "Sorting criteria in the format: property,(asc|desc). Default\
          \ sort order is ascending. Multiple sort criteria are supported."
        required: false
        schema:
          type: array
          items:
            type: string
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PageErrand"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Errands
      summary: Create errand
      description: Creates a new errand based on the supplied attributes
      operationId: createErrand
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Errand"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/notifications:
    get:
      tags:
      - User notifications
      summary: Get notifications
      description: "Get all notifications for the namespace, municipality and errand"
      operationId: getNotificationsByErrandId
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: sort
        in: query
        description: "Sorting criteria in the format: property,(asc|desc). Default\
          \ sort order is ascending. Multiple sort criteria are supported."
        required: false
        schema:
          type: array
          items:
            type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Notification"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - User notifications
      summary: Create notification
      description: Create new notification for the namespace and municipality
      operationId: createNotification
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Notification"
        required: true
      responses:
        "201":
          description: Created - Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "409":
          description: Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/notes:
    get:
      tags:
      - Errand notes
      summary: Find errand notes
      description: Find the errand notes that matches the provided attributes
      operationId: findErrandNotes
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: findErrandNotesRequest
        in: query
        required: true
        schema:
          $ref: "#/components/schemas/FindErrandNotesRequest"
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FindErrandNotesResponse"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Errand notes
      summary: Create errand note
      description: Creates a new errand note based on the supplied attributes
      operationId: createErrandNote
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateErrandNoteRequest"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication/webmessage:
    post:
      tags:
      - Errand communication
      summary: Send email to in context of an errand
      description: Sends an email message to the recipient specified in the request
      operationId: sendWebMessage
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WebMessageRequest"
        required: true
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication/sms:
    post:
      tags:
      - Errand communication
      summary: Send sms to in context of an errand
      description: Sends a sms message to the recipient specified in the request
      operationId: sendSms
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SmsRequest"
        required: true
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication/email:
    post:
      tags:
      - Errand communication
      summary: Send email to in context of an errand
      description: Sends an email message to the recipient specified in the request
      operationId: sendEmail
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EmailRequest"
        required: true
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication/conversations:
    get:
      tags:
      - Errand communication
      summary: Get conversations
      description: Get existing conversations
      operationId: getConversations
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Conversation"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Errand communication
      summary: Create conversation
      description: Create new conversation
      operationId: createConversation
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConversationRequest"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication/conversations/{conversationId}/messages:
    get:
      tags:
      - Errand communication
      summary: Get message list
      description: Get conversation message list
      operationId: getConversationMessages
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: conversationId
        in: path
        description: Conversation ID
        required: true
        schema:
          type: string
        example: 1aefbbb8-de82-414b-b5d7-ba7c5bbe4506
      - name: page
        in: query
        description: Zero-based page index (0..N)
        required: false
        schema:
          minimum: 0
          type: integer
          default: 0
      - name: size
        in: query
        description: The size of the page to be returned
        required: false
        schema:
          minimum: 1
          type: integer
          default: 20
      - name: sort
        in: query
        description: "Sorting criteria in the format: property,(asc|desc). Default\
          \ sort order is ascending. Multiple sort criteria are supported."
        required: false
        schema:
          type: array
          items:
            type: string
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PageMessage"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Errand communication
      summary: Create new message
      description: Create new conversation message
      operationId: createConversationMessage
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: conversationId
        in: path
        description: Conversation ID
        required: true
        schema:
          type: string
        example: 1aefbbb8-de82-414b-b5d7-ba7c5bbe4506
      requestBody:
        content:
          multipart/form-data:
            schema:
              required:
              - message
              type: object
              properties:
                message:
                  $ref: "#/components/schemas/MessageRequest"
                attachments:
                  type: array
                  items:
                    type: string
                    format: binary
      responses:
        "204":
          description: Successful operation
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/attachments:
    get:
      tags:
      - Errand attachments
      summary: Read errand attachments
      description: Fetches the errand attachments that matches the provided errand
        id
      operationId: readErrandAttachments
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ErrandAttachment"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Errand attachments
      summary: Create errand attachment
      description: Creates a new errand attachment based on the supplied attributes
      operationId: createErrandAttachment
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      requestBody:
        content:
          multipart/form-data:
            schema:
              required:
              - errandAttachment
              type: object
              properties:
                errandAttachment:
                  type: string
                  format: binary
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/message-exchange-sync-config:
    get:
      tags:
      - Configuration message-exchange sync
      summary: Read message-exchange sync configs
      description: Fetches message-exchange config for a municipality
      operationId: getAllMessageExchangeByMunicipalityId
      parameters:
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MessageExchangeSync"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    post:
      tags:
      - Configuration message-exchange sync
      summary: Create message-exchange sync config
      description: Create message-exchange sync config that conversations from message-exchange
        service
      operationId: createMessageExchangeSyncConfig
      parameters:
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MessageExchangeSync"
        required: true
      responses:
        "201":
          description: Successful operation
          headers:
            Location:
              style: simple
              schema:
                type: string
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/notifications:
    get:
      tags:
      - User notifications
      summary: Get notifications
      description: Get notifications for the namespace and municipality with the specified
        ownerId
      operationId: getNotificationsByOwnerId
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: ownerId
        in: query
        description: owner ID
        required: true
        schema:
          type: string
        example: 12
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Notification"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    patch:
      tags:
      - User notifications
      summary: Update notification
      description: Update notifications for the namespace and municipality
      operationId: updateNotifications
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/Notification"
        required: true
      responses:
        "204":
          description: Successful operation
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/contactreasons/{contactReasonId}:
    get:
      tags:
      - Metadata for contact reasons
      summary: Get contact reason
      description: "Get contact reason by reason, namespace and municipality"
      operationId: getContactReason
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: contactReasonId
        in: path
        description: ContactReason ID
        required: true
        schema:
          type: integer
          format: int64
        example: 123
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ContactReason"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Metadata for contact reasons
      summary: Delete contact reason
      description: "Delete contact reason matching namespace, municipality and reason"
      operationId: deleteContactReason
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: contactReasonId
        in: path
        description: ContactReason ID
        required: true
        schema:
          type: integer
          format: int64
        example: 123
      responses:
        "204":
          description: Successful operation
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    patch:
      tags:
      - Metadata for contact reasons
      summary: Update contact reason
      description: "Update contact reason matching namespace, municipality and reason"
      operationId: updateContactReason
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: contactReasonId
        in: path
        description: ContactReason ID
        required: true
        schema:
          type: integer
          format: int64
        example: 123
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ContactReason"
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ContactReason"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/categories/{category}:
    get:
      tags:
      - Metadata for categories
      summary: Get category
      description: Get category and connected types for the namespace and municipality
      operationId: getCategory
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: category
        in: path
        description: Name of category
        required: true
        schema:
          type: string
        example: KSK_SERVICE_CENTER_SALARY_AND_PENSION
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Metadata for categories
      summary: Delete category
      description: "Delete category matching namespace, municipality and id"
      operationId: deleteCategory
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: category
        in: path
        description: Name of category
        required: true
        schema:
          type: string
        example: KSK_SERVICE_CENTER_SALARY_AND_PENSION
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    patch:
      tags:
      - Metadata for categories
      summary: Update category
      description: "Update category matching namespace, municipality and id"
      operationId: updateCategory
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: category
        in: path
        description: Name of category
        required: true
        schema:
          type: string
        example: KSK_SERVICE_CENTER_SALARY_AND_PENSION
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Category"
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Category"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}:
    get:
      tags:
      - Errands
      summary: Read errand
      description: Fetches the errand that matches the provided id
      operationId: readErrand
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Errand"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Errands
      summary: Delete errand
      description: Deletes the errand that matches the provided id
      operationId: deleteErrand
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    patch:
      tags:
      - Errands
      summary: Update errand
      description: Updates the errand matching provided id with the supplied attributes
      operationId: updateErrand
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Errand"
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Errand"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/parameters:
    get:
      tags:
      - Errand Parameters
      summary: Find errand parameters
      description: Find the errand parameters that matches the provided attributes
      operationId: findErrandParameters
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Parameter"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    patch:
      tags:
      - Errand Parameters
      summary: Update errand parameters
      description: Creates a new errand parameter based on the supplied attributes
      operationId: updateErrandParameters
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/Parameter"
        required: true
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Parameter"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/parameters/{parameterKey}:
    get:
      tags:
      - Errand Parameters
      summary: Read errand parameter
      description: Fetches the errand parameter that matches the provided errand id
        and parameter id
      operationId: readErrandParameter
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: parameterKey
        in: path
        description: Errand parameter key
        required: true
        schema:
          minLength: 1
          type: string
        example: propertyInfo
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Errand Parameters
      summary: Delete errand parameter
      description: Deletes the errand parameter that matches the provided errand id
        and parameter id
      operationId: deleteErrandParameter
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: parameterKey
        in: path
        description: Errand parameter key
        required: true
        schema:
          minLength: 1
          type: string
        example: propertyInfo
      responses:
        "204":
          description: Successful operation
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    patch:
      tags:
      - Errand Parameters
      summary: Update errand parameter
      description: Updates the errand parameter matching provided errand id and parameter
        id with the supplied attributes
      operationId: updateErrandParameter
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: parameterKey
        in: path
        description: Errand parameter key
        required: true
        schema:
          minLength: 1
          type: string
        example: propertyInfo
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
        required: true
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Parameter"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/notes/{noteId}:
    get:
      tags:
      - Errand notes
      summary: Read errand note
      description: Fetches the errand note that matches the provided errand id and
        note id
      operationId: readErrandNote
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: noteId
        in: path
        description: Errand note id
        required: true
        schema:
          type: string
        example: 5f79a808-0ef3-4985-99b9-b12f23e202a7
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrandNote"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Errand notes
      summary: Delete errand note
      description: Deletes the errand note that matches the provided errand id and
        note id
      operationId: deleteErrandNote
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: noteId
        in: path
        description: Errand note id
        required: true
        schema:
          type: string
        example: 5f79a808-0ef3-4985-99b9-b12f23e202a7
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    patch:
      tags:
      - Errand notes
      summary: Update errand note
      description: Updates the errand note matching provided errand id and note id
        with the supplied attributes
      operationId: updateErrandNote
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: noteId
        in: path
        description: Errand note id
        required: true
        schema:
          type: string
        example: 5f79a808-0ef3-4985-99b9-b12f23e202a7
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateErrandNoteRequest"
        required: true
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrandNote"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication/conversations/{conversationId}:
    get:
      tags:
      - Errand communication
      summary: Get conversation
      description: Get existing conversation
      operationId: getConversation
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: conversationId
        in: path
        description: Conversation ID
        required: true
        schema:
          type: string
        example: 1aefbbb8-de82-414b-b5d7-ba7c5bbe4506
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Conversation"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    patch:
      tags:
      - Errand communication
      summary: Update conversation
      description: Update existing conversation
      operationId: updateConversation
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: conversationId
        in: path
        description: Conversation ID
        required: true
        schema:
          type: string
        example: 1aefbbb8-de82-414b-b5d7-ba7c5bbe4506
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConversationRequest"
        required: true
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Conversation"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata:
    get:
      tags:
      - Metadata
      summary: Get all metadata
      description: Get all metadata for provided namespace and municipality
      operationId: getAll
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MetadataResponse"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/statuses/{status}:
    get:
      tags:
      - Metadata for statuses
      summary: Get status
      description: "Get status matching sent in namespace, municipality and status"
      operationId: getStatus
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: status
        in: path
        description: Name of status
        required: true
        schema:
          type: string
        example: NEW
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Status"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Metadata for statuses
      summary: Delete status
      description: "Delete status matching namespace, municipality and status"
      operationId: deleteStatus
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: status
        in: path
        description: Name of status
        required: true
        schema:
          type: string
        example: PRIVATE
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/roles/{role}:
    get:
      tags:
      - Metadata for roles
      summary: Get role
      description: "Get role matching sent in namespace, municipality and role"
      operationId: getRole
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: role
        in: path
        description: Name of role
        required: true
        schema:
          type: string
        example: ROLE-1
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Role"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Metadata for roles
      summary: Delete role
      description: "Delete role matching namespace, municipality and role"
      operationId: deleteRole
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: role
        in: path
        description: Name of role
        required: true
        schema:
          type: string
        example: ROLE-1
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/external-id-types/{externalIdType}:
    get:
      tags:
      - Metadata for external ID types
      summary: Get externalIdType
      description: "Get externalIdType matching sent in namespace, municipality and\
        \ externalIdType"
      operationId: getExternalIdType
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: externalIdType
        in: path
        description: Name of external ID type
        required: true
        schema:
          type: string
        example: PRIVATE
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ExternalIdType"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Metadata for external ID types
      summary: Delete externalIdType
      description: "Delete external ID type matching namespace, municipality and externalIdType"
      operationId: deleteExternalIdType
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: externalIdType
        in: path
        description: Name of externalIdType
        required: true
        schema:
          type: string
        example: PRIVATE
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/metadata/categories/{category}/types:
    get:
      tags:
      - Metadata for categories
      summary: Get types connected to category
      description: "Get all types for the namespace, municipality and category"
      operationId: getCategoryTypes
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: category
        in: path
        description: Name of category
        required: true
        schema:
          type: string
        example: KSK_SERVICE_CENTER_SALARY_AND_PENSION
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Type"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/time-measure:
    get:
      tags:
      - Time measures
      summary: Get errand time measures
      description: Get time measures for an errand
      operationId: getErrandTimeMeasure
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: Successful operation
          content:
            application/json: {}
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/revisions:
    get:
      tags:
      - Revisions
      summary: Read errand revisions
      description: Returns all existing revisions for the errand that matches the
        provided id
      operationId: getErrandRevisions
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Revision"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/revisions/difference:
    get:
      tags:
      - Revisions
      summary: Compare differences between two revision versions of an errand
      description: Returns the differences between the source and target revision
        for the provided errand id
      operationId: getErrandDiffByVersions
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: source
        in: query
        description: Source version to compare
        required: true
        schema:
          maximum: 9223372036854775807
          minimum: 0
          type: integer
          format: int32
        example: 0
      - name: target
        in: query
        description: Target version to compare
        required: true
        schema:
          maximum: 9223372036854775807
          minimum: 0
          type: integer
          format: int32
        example: 1
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DifferenceResponse"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/notifications/{notificationId}:
    get:
      tags:
      - User notifications
      summary: Get notifications
      description: Get a specific notification for the namespace and municipality
      operationId: getNotification
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: notificationId
        in: path
        description: notification ID
        required: true
        schema:
          type: string
        example: 74540a24-70e1-4e82-90f7-7d8ad4666cdc
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Notification"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - User notifications
      summary: Delete notification
      description: Delete notification for the namespace and municipality
      operationId: deleteNotification
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: notificationId
        in: path
        description: Notification ID
        required: true
        schema:
          type: string
        example: 74540a24-70e1-4e82-90f7-7d8ad4666cdc
      responses:
        "204":
          description: Successful operation
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/notes/{noteId}/revisions:
    get:
      tags:
      - Revisions
      summary: Read note revisions
      description: Returns all existing revisions for the errand note that matches
        the provided errand id and note id
      operationId: getErrandNoteRevisions
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: noteId
        in: path
        description: Errand note id
        required: true
        schema:
          type: string
        example: 22a57c09-47ca-45bf-ab02-819011c6fd8d
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Revision"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/notes/{noteId}/revisions/difference:
    get:
      tags:
      - Revisions
      summary: Compare differences between two revision versions of an errand note
      description: Returns the differences between the source and target revision
        for the provided errand id and note id
      operationId: getErrandNoteDiffByVersions
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: noteId
        in: path
        description: Errand note id
        required: true
        schema:
          type: string
        example: 22a57c09-47ca-45bf-ab02-819011c6fd8d
      - name: source
        in: query
        description: Source version to compare
        required: true
        schema:
          maximum: 9223372036854775807
          minimum: 0
          type: integer
          format: int32
        example: 0
      - name: target
        in: query
        description: Target version to compare
        required: true
        schema:
          maximum: 9223372036854775807
          minimum: 0
          type: integer
          format: int32
        example: 1
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DifferenceResponse"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/events:
    get:
      tags:
      - Errand events
      summary: Read errand events
      description: Returns all existing events for the errand that matches the provided
        id
      operationId: getErrandEvents
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: page
        in: query
        description: Zero-based page index (0..N)
        required: false
        schema:
          minimum: 0
          type: integer
          default: 0
      - name: size
        in: query
        description: The size of the page to be returned
        required: false
        schema:
          minimum: 1
          type: integer
          default: 20
      - name: sort
        in: query
        description: "Sorting criteria in the format: property,(asc|desc). Default\
          \ sort order is ascending. Multiple sort criteria are supported."
        required: false
        schema:
          type: array
          items:
            type: string
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PageEvent"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication:
    get:
      tags:
      - Errand communication
      description: Get all communications for an errand.
      operationId: getCommunications
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: OK - Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Communication"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication/{communicationId}/attachments/{attachmentId}:
    get:
      tags:
      - Errand communication
      summary: Get a streamed communication attachment.
      description: "Fetches the communication attachment that matches the provided\
        \ ID, in a streamed manner"
      operationId: getMessageAttachment
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: communicationId
        in: path
        description: communication ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: attachmentId
        in: path
        description: Message attachment ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: Successful Operation
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "507":
          description: Insufficient Storage
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/communication/external:
    get:
      tags:
      - Errand communication
      description: Get all external communications for an errand.
      operationId: getExternalCommunications
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: OK - Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Communication"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  ? /{municipalityId}/{namespace}/errands/{errandId}/communication/conversations/{conversationId}/messages/{messageId}/attachments/{attachmentId}
  : get:
      tags:
      - Errand communication
      summary: Get a streamed conversation message attachment.
      description: "Fetches the conversation message attachment that matches the provided\
        \ ID, in a streamed manner"
      operationId: getConversationMessageAttachment
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality ID
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: conversationId
        in: path
        description: Conversation ID
        required: true
        schema:
          type: string
        example: 1aefbbb8-de82-414b-b5d7-ba7c5bbe4506
      - name: messageId
        in: path
        description: Message ID
        required: true
        schema:
          type: string
        example: be3a5c7b-0f39-4867-8065-6a286b36fcc3
      - name: attachmentId
        in: path
        description: Conversation message attachment ID
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      responses:
        "200":
          description: Successful Operation
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "507":
          description: Insufficient Storage
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/{errandId}/attachments/{attachmentId}:
    get:
      tags:
      - Errand attachments
      summary: Read errand attachment
      description: Fetches the errand attachment that matches the provided errand
        id and attachment id
      operationId: readErrandAttachment
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: attachmentId
        in: path
        description: Errand attachment id
        required: true
        schema:
          type: string
        example: 5f79a808-0ef3-4985-99b9-b12f23e202a7
      responses:
        "200":
          description: Successful Operation
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
    delete:
      tags:
      - Errand attachments
      summary: Delete errand attachment
      description: Deletes the errand attachment that matches the provided errand
        id and attachment id
      operationId: deleteErrandAttachment
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: errandId
        in: path
        description: Errand id
        required: true
        schema:
          type: string
        example: b82bd8ac-1507-4d9a-958d-369261eecc15
      - name: attachmentId
        in: path
        description: Errand attachment id
        required: true
        schema:
          type: string
        example: 5f79a808-0ef3-4985-99b9-b12f23e202a7
      responses:
        "204":
          description: Successful operation
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "404":
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /{municipalityId}/{namespace}/errands/count:
    get:
      tags:
      - Errands
      summary: Count errands
      description: Counts errands based on the provided filters
      operationId: countErrands
      parameters:
      - name: namespace
        in: path
        description: Namespace
        required: true
        schema:
          pattern: "[\\w|\\-]+"
          type: string
        example: MY_NAMESPACE
      - name: municipalityId
        in: path
        description: Municipality id
        required: true
        schema:
          type: string
        example: 2281
      - name: filter
        in: query
        description: "Syntax description: [spring-filter](https://github.com/turkraft/spring-filter/blob/85730f950a5f8623159cc0eb4d737555f9382bb7/README.md#syntax)"
        required: false
        schema:
          type: string
        example: categoryTag:'SUPPORT-CASE' and stakeholder.externalId:'81471222-5798-11e9-ae24-57fa13b361e1'
          and externalTags.key:'caseId' and externalTags.value:'111' and created>'2022-09-08T12:00:00.000+02:00'
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CountResponse"
        "400":
          description: Bad request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /namespace-configs:
    get:
      tags:
      - Configuration for namespace
      summary: "Read all namespace configurations, optionally filtered by municipalityId"
      description: Fetches an optionally filtered list of namespace configurations
      operationId: readAllNamespaceConfigs
      parameters:
      - name: municipalityId
        in: query
        description: Municipality id
        required: false
        schema:
          type: string
        example: 2281
      responses:
        "200":
          description: Successful Operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NamespaceConfig"
        "400":
          description: Bad Request
          content:
            application/problem+json:
              schema:
                oneOf:
                - $ref: "#/components/schemas/Problem"
                - $ref: "#/components/schemas/ConstraintViolationProblem"
        "500":
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
  /api-docs:
    get:
      tags:
      - API
      summary: OpenAPI
      operationId: getApiDocs
      responses:
        "200":
          description: OK
          content:
            application/yaml:
              schema:
                type: string
      x-auth-type: None
      x-throttling-tier: Unlimited
      x-wso2-mutual-ssl: Optional
components:
  schemas:
    Problem:
      type: object
      properties:
        instance:
          type: string
          format: uri
        type:
          type: string
          format: uri
        parameters:
          type: object
          additionalProperties:
            type: object
        title:
          type: string
        status:
          $ref: "#/components/schemas/StatusType"
        detail:
          type: string
    StatusType:
      type: object
      properties:
        statusCode:
          type: integer
          format: int32
        reasonPhrase:
          type: string
    ConstraintViolationProblem:
      type: object
      properties:
        cause:
          $ref: "#/components/schemas/ThrowableProblem"
        stackTrace:
          type: array
          items:
            type: object
            properties:
              classLoaderName:
                type: string
              moduleName:
                type: string
              moduleVersion:
                type: string
              methodName:
                type: string
              fileName:
                type: string
              lineNumber:
                type: integer
                format: int32
              className:
                type: string
              nativeMethod:
                type: boolean
        type:
          type: string
          format: uri
        status:
          $ref: "#/components/schemas/StatusType"
        violations:
          type: array
          items:
            $ref: "#/components/schemas/Violation"
        title:
          type: string
        message:
          type: string
        instance:
          type: string
          format: uri
        parameters:
          type: object
          additionalProperties:
            type: object
        detail:
          type: string
        suppressed:
          type: array
          items:
            type: object
            properties:
              stackTrace:
                type: array
                items:
                  type: object
                  properties:
                    classLoaderName:
                      type: string
                    moduleName:
                      type: string
                    moduleVersion:
                      type: string
                    methodName:
                      type: string
                    fileName:
                      type: string
                    lineNumber:
                      type: integer
                      format: int32
                    className:
                      type: string
                    nativeMethod:
                      type: boolean
              message:
                type: string
              localizedMessage:
                type: string
        localizedMessage:
          type: string
    ThrowableProblem:
      type: object
      properties:
        cause:
          $ref: "#/components/schemas/ThrowableProblem"
        stackTrace:
          type: array
          items:
            type: object
            properties:
              classLoaderName:
                type: string
              moduleName:
                type: string
              moduleVersion:
                type: string
              methodName:
                type: string
              fileName:
                type: string
              lineNumber:
                type: integer
                format: int32
              className:
                type: string
              nativeMethod:
                type: boolean
        message:
          type: string
        instance:
          type: string
          format: uri
        type:
          type: string
          format: uri
        parameters:
          type: object
          additionalProperties:
            type: object
        title:
          type: string
        status:
          $ref: "#/components/schemas/StatusType"
        detail:
          type: string
        suppressed:
          type: array
          items:
            type: object
            properties:
              stackTrace:
                type: array
                items:
                  type: object
                  properties:
                    classLoaderName:
                      type: string
                    moduleName:
                      type: string
                    moduleVersion:
                      type: string
                    methodName:
                      type: string
                    fileName:
                      type: string
                    lineNumber:
                      type: integer
                      format: int32
                    className:
                      type: string
                    nativeMethod:
                      type: boolean
              message:
                type: string
              localizedMessage:
                type: string
        localizedMessage:
          type: string
    Violation:
      type: object
      properties:
        field:
          type: string
        message:
          type: string
    NamespaceConfig:
      required:
      - displayName
      - shortCode
      type: object
      properties:
        namespace:
          type: string
          description: Namespace
          readOnly: true
          example: CONTACTCENTER
        municipalityId:
          type: string
          description: Municipality connected to the namespace
          readOnly: true
          example: "2281"
        displayName:
          type: string
          description: Display name for the namespace
          example: Kontaktcenter
        shortCode:
          type: string
          description: Prefix for errand numbers in this namespace
          example: KC
        notificationTTLInDays:
          type: integer
          description: Time to live (in days) for notifications created in this namespace
          format: int32
          example: 40
        created:
          type: string
          description: Timestamp when the configuration was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when the configuration was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        accessControl:
          type: boolean
          description: If set to true access control will be enabled
          example: true
      description: Namespace configuration model
    Label:
      required:
      - classification
      - resourceName
      type: object
      properties:
        id:
          type: string
          description: Label ID
          example: 5f79a808-0ef3-4985-99b9-b12f23e202a7
        classification:
          minLength: 1
          type: string
          description: Label classification
          example: subtype
        displayName:
          type: string
          description: Display name for the label
          example: Nyckelkort
        resourcePath:
          type: string
          description: Resource path
          readOnly: true
          example: /parent/child/keycard
        resourceName:
          minLength: 1
          type: string
          description: Resource name
          example: keycard
        labels:
          type: array
          items:
            $ref: "#/components/schemas/Label"
      description: Label model
    EmailIntegration:
      required:
      - enabled
      - statusForNew
      type: object
      properties:
        enabled:
          type: boolean
          description: If set to true emails will be fetched
        errandClosedEmailSender:
          type: string
          description: Email sender if incoming mail is rejected
          nullable: true
          example: noreply@sundsvall.se
        errandClosedEmailTemplate:
          type: string
          description: Message that will be sent when incoming mail is rejected
          nullable: true
          example: Errand is closed. Please open a new errand.
        errandClosedEmailHTMLTemplate:
          type: string
          description: HTML template for email that will be sent when incoming mail
            is rejected
          nullable: true
          example: <html><body>Errand is closed. Please open a new errand.</body></html>
        errandNewEmailSender:
          type: string
          description: Email sender if incoming mail results in new errand
          nullable: true
          example: test@sundsvall.se
        errandNewEmailTemplate:
          type: string
          description: Message that will be sent when new errand is created
          nullable: true
          example: New errand is created.
        errandNewEmailHTMLTemplate:
          type: string
          description: HTML template for email that will be sent when incoming mail
            results in new errand
          nullable: true
          example: <html><body>New errand is created.</body></html>
        daysOfInactivityBeforeReject:
          type: integer
          description: Number of days before incoming mail is rejected. Measured from
            when the errand was last touched. Rejection can only occur if status on
            errand equals 'inactiveStatus'.
          format: int32
          nullable: true
          example: 5
        statusForNew:
          type: string
          description: Status set on errand when email results in a new errand
          example: NEW
        triggerStatusChangeOn:
          type: string
          description: Status on errand that will trigger a status change when email
            refers to an existing errand
          nullable: true
          example: SOLVED
        statusChangeTo:
          type: string
          description: Status that will be set on errand if status change is triggered.
            Can only be null if 'triggerStatusChangeOn' is null.
          nullable: true
          example: OPEN
        inactiveStatus:
          type: string
          description: "Status of an inactive errand. This value relates to property\
            \ 'daysOfInactivityBeforeReject'. If set to null, no rejection mail will\
            \ be sent"
          nullable: true
          example: SOLVED
        addSenderAsStakeholder:
          type: boolean
          description: If true sender is added as stakeholder
          nullable: true
          example: false
        stakeholderRole:
          type: string
          description: Role set on stakeholder.
          nullable: true
          example: APPLICANT
        errandChannel:
          type: string
          description: Channel set on created errands
          nullable: true
          example: EMAIL
        created:
          type: string
          description: Timestamp when the configuration was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when the configuration was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
      description: Email integration config model
    MessageExchangeSync:
      required:
      - active
      type: object
      properties:
        id:
          type: integer
          description: Unique id
          format: int64
          readOnly: true
          example: 1
        namespace:
          type: string
          description: Message exchange namespace to search in. Does not map to supporManagement
            namespace.
          example: support
        latestSyncedSequenceNumber:
          type: integer
          description: Latest synced sequence number
          format: int64
          readOnly: true
          example: 333
        modified:
          type: string
          description: Timestamp when the configuration was last modified
          format: date-time
          readOnly: true
          example: 2024-12-24T01:30:00+02:00
        active:
          type: boolean
          description: If set to true conversations will be synced
      description: Message-Exchange sync configuration
    Status:
      required:
      - name
      type: object
      properties:
        name:
          minLength: 1
          type: string
          description: Name for the status
          example: statusName
        created:
          type: string
          description: Timestamp when the status was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when the status was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
      description: Status model
    Role:
      required:
      - name
      type: object
      properties:
        name:
          minLength: 1
          type: string
          description: Name for the role. Used as key
          example: roleName
        displayName:
          type: string
          description: Display name for the role
          nullable: true
          example: Role name
        created:
          type: string
          description: Timestamp when the role was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when the role was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
      description: Role model
    ExternalIdType:
      required:
      - name
      type: object
      properties:
        name:
          minLength: 1
          type: string
          description: Name for the external id type
          example: PRIVATE
        created:
          type: string
          description: Timestamp when the external id type was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when the external id type was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
      description: ExternalIdType model
    ContactReason:
      required:
      - reason
      type: object
      properties:
        id:
          type: integer
          description: ID
          format: int64
          readOnly: true
          example: 123
        reason:
          minLength: 1
          type: string
          description: Reason for contact
          example: Segt internet
        created:
          type: string
          description: Timestamp when the contact reason was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when the contact reason was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
      description: Contact reason model
    Category:
      type: object
      properties:
        name:
          type: string
          description: Name for the category
          example: Category name
        displayName:
          type: string
          description: Display name for the category
          example: Displayed name
        types:
          uniqueItems: true
          type: array
          items:
            $ref: "#/components/schemas/Type"
        created:
          type: string
          description: Timestamp when the category was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when the category was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
      description: Category model
    Type:
      required:
      - name
      type: object
      properties:
        name:
          minLength: 1
          type: string
          description: Name for the type
          example: typename
        displayName:
          type: string
          description: Display name for the type
          example: Displayed name
        escalationEmail:
          type: string
          description: Email for where to escalate the errand if needed
          format: email
          example: escalationgroup@sesamestreet.com
        created:
          type: string
          description: Timestamp when type was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when type was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
      description: Type model
    Classification:
      type: object
      properties:
        category:
          type: string
          description: Category for the errand
          example: SUPPORT_CASE
        type:
          type: string
          description: Type of errand
          example: OTHER_ISSUES
      description: Classification model
    ContactChannel:
      type: object
      properties:
        type:
          type: string
          description: Type of channel. Defines how value is interpreted
          example: Email
        value:
          type: string
          description: Value for Contact channel
          example: arthur.dent@earth.com
      description: Contact channel model
    Errand:
      type: object
      properties:
        id:
          type: string
          description: Unique id for the errand
          readOnly: true
          example: f0882f1d-06bc-47fd-b017-1d8307f5ce95
        errandNumber:
          type: string
          description: Unique number for the errand
          readOnly: true
          example: KC-23010001
        title:
          type: string
          description: Title for the errand
          example: Title for the errand
        priority:
          $ref: "#/components/schemas/Priority"
        stakeholders:
          type: array
          items:
            $ref: "#/components/schemas/Stakeholder"
        externalTags:
          uniqueItems: true
          type: array
          items:
            $ref: "#/components/schemas/ExternalTag"
        parameters:
          type: array
          description: Parameters for the errand
          items:
            $ref: "#/components/schemas/Parameter"
        classification:
          $ref: "#/components/schemas/Classification"
        status:
          type: string
          description: Status for the errand
          example: NEW_CASE
        resolution:
          type: string
          description: Resolution status for closed errands. Value can be set to anything
          example: FIXED
        description:
          type: string
          description: Errand description text
          example: Order cake for everyone
        channel:
          maxLength: 255
          minLength: 0
          type: string
          description: The channel from which the errand originated
          example: THE_CHANNEL
        reporterUserId:
          type: string
          description: User id for the person which has created the errand
          example: joe01doe
        assignedUserId:
          type: string
          description: Id for the user which currently is assigned to the errand if
            a user is assigned
          example: joe01doe
        assignedGroupId:
          type: string
          description: Id for the group which is currently assigned to the errand
            if a group is assigned
          example: hardware support
        escalationEmail:
          type: string
          description: Email address used for escalation of errand
          format: email
          example: joe.doe@email.com
        contactReason:
          type: string
          description: Contact reason for the errand
          example: The printer is not working
        contactReasonDescription:
          maxLength: 4096
          minLength: 0
          type: string
          description: Contact reason description for the errand
          example: The printer is not working since the power cord is missing
        suspension:
          $ref: "#/components/schemas/Suspension"
        businessRelated:
          type: boolean
          description: Flag to indicate if the errand is business related
          example: true
        labels:
          type: array
          description: List of labels for the errand
          items:
            $ref: "#/components/schemas/ErrandLabel"
        activeNotifications:
          type: array
          description: List of active notifications for the errand
          readOnly: true
          items:
            $ref: "#/components/schemas/Notification"
        created:
          type: string
          description: Timestamp when errand was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when errand was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        touched:
          type: string
          description: Timestamp when errand was last touched (created or modified)
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
      description: Errand model
    ErrandLabel:
      type: object
      properties:
        id:
          type: string
          description: Label ID
          example: 5f79a808-0ef3-4985-99b9-b12f23e202a7
        classification:
          type: string
          description: Label classification
          readOnly: true
          example: subtype
        displayName:
          type: string
          description: Display name for the label
          readOnly: true
          example: Nyckelkort
        resourcePath:
          type: string
          description: Resource path
          readOnly: true
          example: /parent/child/xxx
        resourceName:
          type: string
          description: Resource name
          readOnly: true
          example: keycard
      description: Errand label model
    ExternalTag:
      required:
      - key
      - value
      type: object
      properties:
        key:
          minLength: 1
          type: string
          description: Key for external tag
          example: caseId
        value:
          minLength: 1
          type: string
          description: Value for external tag
          example: 8849-2848
      description: External tag model
    Notification:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the notification
          example: 123e4567-e89b-12d3-a456-426614174000
        created:
          type: string
          description: Timestamp when the notification was created
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        modified:
          type: string
          description: Timestamp when the notification was last modified
          format: date-time
          readOnly: true
          example: 2000-10-31T01:30:00+02:00
        ownerFullName:
          type: string
          description: Name of the owner of the notification
          readOnly: true
          example: Test Testorsson
        ownerId:
          type: string
          description: Owner id of the notification
          example: AD01
        createdBy:
          type: string
          description: User who created the notification
          readOnly: true
          example: TestUser
        createdByFullName:
          type: string
          description: Full name of the user who created the notification
          readOnly: true
          example: Test Testorsson
        type:
          type: string
          description: Type of the notification
          example: CREATE
        subtype:
          type: string
          description: Subtype of the notification
          example: ATTACHMENT
        description:
          type: string
          description: Description of the notification
          example: Some description of the notification
        content:
          type: string
          description: Content of the notification
          example: Some content of the notification
        expires:
          type: string
          description: Timestamp when the notification expires
          format: date-time
          example: 2000-10-31T01:30:00+02:00
        globalAcknowledged:
          type: boolean
          description: Acknowledged status of the notification (global level). I.e.
            this notification is acknowledged by anyone.
          example: true
        acknowledged:
          type: boolean
          description: Acknowledged status of the notification (owner level). I.e.
            this notification is acknowledged by the owner of this notification.
          example: true
        errandId:
          type: string
          description: Errand id of the notification
          readOnly: true
          example: f0882f1d-06bc-47fd-b017-1d8307f5ce95
        errandNumber:
          type: string
          description: Errand number of the notification
          readOnly: true
          example: PRH-2022-000001
      description: List of active notifications for the errand
      readOnly: true
    Parameter:
      required:
      - key
      type: object
      properties:
        key:
          minLength: 1
          type: string
          description: Parameter key
        displayName:
          type: string
          description: Parameter display name
        group:
          type: string
          description: Parameter group name
        values:
          type: array
          description: Parameter values. Each value can have a maximum length of 2000
            characters
          items:
            maxLength: 2000
            minLength: 0
            type: string
            description: Parameter values. Each value can have a maximum length of
              2000 characters
      description: Parameter model
    Priority:
      type: string
      description: Priority model
      enum:
      - LOW
      - MEDIUM
      - HIGH
    Stakeholder:
      type: object
      properties:
        externalId:
          type: string
          description: Unique identifier for the stakeholder
          example: cb20c51f-fcf3-42c0-b613-de563634a8ec
        externalIdType:
          type: string
          description: Type of external id
          example: PRIVATE
        role:
          type: string
          description: Role of stakeholder
          example: ADMINISTRATOR
        city:
          type: string
          description: City
          example: Cottington
        organizationName:
          type: string
          description: Organization name
          example: Vogon Constructor Fleet
        firstName:
          type: string
          description: First name
          example: Aurthur
        lastName:
          type: string
          description: Last name
          example: Dent
        address:
          type: string
          description: Address
          example: "155 Country Lane, Cottington"
        careOf:
          type: string
          description: Care of
          example: Ford Prefect
        zipCode:
          type: string
          description: Zip code
          example: "12345"
        country:
          type: string
          description: Country
          example: United Kingdom
        contactChannels:
          type: array
          items:
            $ref: "#/components/schemas/ContactChannel"
        parameters:
          type: array
          description: Parameters for the stakeholder
          items:
            $ref: "#/components/schemas/Parameter"
      description: Stakeholder model
    Suspension:
      type: object
      properties:
        suspendedTo:
          type: string
          description: Timestamp when the suspension wears off
          format: date-time
          example: 2000-10-31T01:30:00+02:00
        suspendedFrom:
          type: string
          description: Timestamp when the suspension started
          format: date-time
          example: 2000-10-31T01:30:00+02:00
      description: Suspension information
    CreateErrandNoteRequest:
      required:
      - body
      - context
      - createdBy
      - role
      - subject
      type: object
      properties:
        context:
          maxLength: 255
          minLength: 1
          type: string
          description: Context for note
          example: SUPPORT
        role:
          maxLength: 255
          minLength: 1
          type: string
          description: Role of note creator
          example: FIRST_LINE_SUPPORT
        partyId:
          type: string
          description: Party id (e.g. a personId or an organizationId)
          example: 81471222-5798-11e9-ae24-57fa13b361e1
        subject:
          maxLength: 255
          minLength: 1
          type: string
          description: The note subject
          example: This is a subject
        body:
          maxLength: 2048
          minLength: 1
          type: string
          description: The note body
          example: This is a note
        createdBy:
          minLength: 1
          type: string
          description: Created by
          example: John Doe
      description: CreateErrandNoteRequest model
    WebMessageAttachment:
      required:
      - base64EncodedString
      - fileName
      type: object
      properties:
        fileName:
          minLength: 1
          type: string
          description: The attachment file name
          example: test.txt
        base64EncodedString:
          type: string
          description: "The attachment (file) content as a BASE64-encoded string,\
            \ max size 50 MB"
          format: base64
          example: aGVsbG8gd29ybGQK
      description: WebMessageAttachment model
    WebMessageRequest:
      required:
      - message
      type: object
      properties:
        internal:
          type: boolean
          description: Indicates if the message is internal
          example: false
        dispatch:
          type: boolean
          description: Indicates if the message should be dispatched with messaging
            or not
          example: true
          default: true
        message:
          minLength: 1
          type: string
          description: Message in plain text
          example: Message in plain text
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/WebMessageAttachment"
        attachmentIds:
          type: array
          items:
            type: string
            description: List with attachment ids
      description: WebMessageRequest model
    SmsRequest:
      required:
      - message
      - recipient
      - sender
      type: object
      properties:
        sender:
          maxLength: 11
          minLength: 1
          type: string
          description: The sender of the SMS
          example: sender
        recipient:
          type: string
          description: "Mobile number to recipient in format +467[02369]\\d{7}"
          example: "+46701740605"
        message:
          minLength: 1
          type: string
          description: Message
        internal:
          type: boolean
          description: Indicates if the message is internal
          example: false
      description: SmsRequest model
    EmailAttachment:
      required:
      - base64EncodedString
      - fileName
      type: object
      properties:
        fileName:
          minLength: 1
          type: string
          description: The attachment file name
          example: test.txt
        base64EncodedString:
          type: string
          description: "The attachment (file) content as a BASE64-encoded string,\
            \ max size 50 MB"
          format: base64
          example: aGVsbG8gd29ybGQK
      description: EmailAttachment model
    EmailRequest:
      required:
      - htmlMessage
      - message
      - recipient
      - sender
      - subject
      type: object
      properties:
        sender:
          type: string
          description: Email address for sender
          format: email
          example: sender@sender.se
        senderName:
          type: string
          description: "Optional display name of sender on email. If left out, email\
            \ will be displayed as sender name."
          example: Firstname Lastname
        recipient:
          type: string
          description: Email address for recipient
          format: email
          example: recipient@recipient.se
        subject:
          minLength: 1
          type: string
          description: Subject
          example: Subject
        htmlMessage:
          minLength: 1
          type: string
          description: Message in html (optionally in BASE64 encoded format)
          example: <html>HTML-formatted message</html>
        message:
          minLength: 1
          type: string
          description: Message in plain text
          example: Message in plain text
        internal:
          type: boolean
          description: Indicates if the message is internal
          example: false
        emailHeaders:
          type: object
          additionalProperties:
            type: array
            description: Headers for keeping track of email conversations
            example:
              IN_REPLY_TO:
              - reply-to@example.com
              REFERENCES:
              - reference1
              - reference2
              MESSAGE_ID:
              - "123456789"
            items:
              type: string
              description: Headers for keeping track of email conversations
              example: "{\"IN_REPLY_TO\":[\"reply-to@example.com\"],\"REFERENCES\"\
                :[\"reference1\",\"reference2\"],\"MESSAGE_ID\":[\"123456789\"]}"
          description: Headers for keeping track of email conversations
          example:
            IN_REPLY_TO:
            - reply-to@example.com
            REFERENCES:
            - reference1
            - reference2
            MESSAGE_ID:
            - "123456789"
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/EmailAttachment"
        attachmentIds:
          type: array
          items:
            type: string
            description: List with attachment ids
      description: EmailRequest model
    ConversationRequest:
      required:
      - topic
      - type
      type: object
      properties:
        topic:
          minLength: 1
          type: string
          description: The message-exchange topic
          example: The conversation topic
        type:
          $ref: "#/components/schemas/ConversationType"
        relationIds:
          type: array
          items:
            type: string
        participants:
          type: array
          items:
            $ref: "#/components/schemas/Identifier"
        metadata:
          type: array
          items:
            $ref: "#/components/schemas/KeyValues"
      description: ConversationRequest model
    ConversationType:
      type: string
      description: ConversationType model
      enum:
      - INTERNAL
      - EXTERNAL
    Identifier:
      required:
      - value
      type: object
      properties:
        type:
          pattern: ^(adAccount|partyId)$
          type: string
          description: The conversation identifier type
          example: adAccount
        value:
          minLength: 1
          type: string
          description: The conversation identifier value
          example: joe01doe
      description: Identifier model
    KeyValues:
      type: object
      properties:
        key:
          type: string
          description: The key
          example: key1
        values:
          type: array
          items:
            type: string
      description: KeyValues model
    MessageRequest:
      required:
      - content
      type: object
      properties:
        inReplyToMessageId:
          type: string
          description: The ID of the replied message
          example: 1aefbbb8-de82-414b-b5d7-ba7c5bbe4506
        content:
          minLength: 1
          type: string
          description: The content of the message.
          example: "Hello, how can I help you?"
      description: Message body
    UpdateErrandNoteRequest:
      required:
      - body
      - modifiedBy
      - subject
      type: object
      properties:
        subject:
          maxLength: 255
          minLength: 1
          type: string
          description: The note subject
          example: This is a subject
        body:
          maxLength: 2048
          minLength: 1
          type: string
          description: The note body
          example: This is a note
        modifiedBy:
          minLength: 1
          type: string
          description: Modified by
          example: John Doe
      description: UpdateErrandNoteRequest model
    ErrandNote:
      type: object
      properties:
        id:
          type: string
          description: Note ID
          example: 5f79a808-0ef3-4985-99b9-b12f23e202a7
        context:
          type: string
          description: Context for note
          example: SUPPORT
        role:
          type: string
          description: Role of note creator
          example: FIRST_LINE_SUPPORT
        clientId:
          type: string
          description: Id of the client who is the owner of the note
          example: SUPPORT_MGMT
        partyId:
          type: string
          description: Party ID (e.g. a personId or an organizationId)
          example: 81471222-5798-11e9-ae24-57fa13b361e1
        subject:
          type: string
          description: The note subject
          example: This is a subject
        body:
          type: string
          description: The note body
          example: This is a note
        caseId:
          type: string
          description: Id for the case
          example: b82bd8ac-1507-4d9a-958d-369261eecc15
        createdBy:
          type: string
          description: Created by
          example: John Doe
        modifiedBy:
          type: string
          description: Modified by
          example: John Doe
        created:
          type: string
          description: Created timestamp
          format: date-time
        modified:
          type: string
          description: Modified timestamp
          format: date-time
      description: ErrandNote model
    Conversation:
      type: object
      properties:
        id:
          type: string
          description: Conversation ID
          example: 1aefbbb8-de82-414b-b5d7-ba7c5bbe4506
        topic:
          type: string
          description: The message-exchange topic
          example: The conversation topic
        type:
          $ref: "#/components/schemas/ConversationType"
        relationIds:
          type: array
          items:
            type: string
        participants:
          type: array
          items:
            $ref: "#/components/schemas/Identifier"
        metadata:
          type: array
          items:
            $ref: "#/components/schemas/KeyValues"
      description: Conversation model
    Labels:
      type: object
      properties:
        labelStructure:
          type: array
          items:
            $ref: "#/components/schemas/Label"
      description: Labels model
      readOnly: true
    MetadataResponse:
      type: object
      properties:
        categories:
          type: array
          items:
            $ref: "#/components/schemas/Category"
        externalIdTypes:
          type: array
          items:
            $ref: "#/components/schemas/ExternalIdType"
        labels:
          $ref: "#/components/schemas/Labels"
        statuses:
          type: array
          items:
            $ref: "#/components/schemas/Status"
        roles:
          type: array
          items:
            $ref: "#/components/schemas/Role"
        contactReasons:
          type: array
          items:
            $ref: "#/components/schemas/ContactReason"
      description: MetadataResponse model
    PageErrand:
      type: object
      properties:
        totalElements:
          type: integer
          format: int64
        totalPages:
          type: integer
          format: int32
        size:
          type: integer
          format: int32
        content:
          type: array
          items:
            $ref: "#/components/schemas/Errand"
        number:
          type: integer
          format: int32
        first:
          type: boolean
        last:
          type: boolean
        numberOfElements:
          type: integer
          format: int32
        sort:
          $ref: "#/components/schemas/SortObject"
        pageable:
          $ref: "#/components/schemas/PageableObject"
        empty:
          type: boolean
    PageableObject:
      type: object
      properties:
        offset:
          type: integer
          format: int64
        unpaged:
          type: boolean
        sort:
          $ref: "#/components/schemas/SortObject"
        paged:
          type: boolean
        pageSize:
          type: integer
          format: int32
        pageNumber:
          type: integer
          format: int32
    SortObject:
      type: object
      properties:
        empty:
          type: boolean
        unsorted:
          type: boolean
        sorted:
          type: boolean
    Revision:
      type: object
      properties:
        id:
          type: string
          description: Unique id for the revision
          example: 391e97b7-2e78-42e2-9a60-fe49fbfa94f1
        entityId:
          type: string
          description: Unique id for the entity connected to the revision
          example: 3af4844d-a75f-4e25-a2a0-355eb642dd2d
        entityType:
          type: string
          description: Type of entity for the revision
          example: ErrandEntity
        version:
          type: integer
          description: Version of the revision
          format: int32
          example: 1
        created:
          type: string
          description: Timestamp when the revision was created
          format: date-time
          example: 2000-10-31T01:30:00+02:00
      description: Revision model
      readOnly: true
    DifferenceResponse:
      type: object
      properties:
        operations:
          type: array
          items:
            $ref: "#/components/schemas/Operation"
      description: DifferenceResponse model
      readOnly: true
    Operation:
      type: object
      properties:
        op:
          type: string
          description: Type of operation
          example: replace
        path:
          type: string
          description: Path to attribute
          example: /name/firstName
        value:
          type: string
          description: Value of attribute
          example: Jane
        fromValue:
          type: string
          description: Previous value of attribute
          example: John
      description: Operation model
      readOnly: true
    FindErrandNotesRequest:
      type: object
      properties:
        page:
          minimum: 1
          type: integer
          description: Page number
          format: int32
          example: 1
          default: 1
        limit:
          maximum: 1000
          minimum: 1
          type: integer
          description: Result size per page
          format: int32
          example: 100
          default: 100
        context:
          type: string
          description: Context for note
          example: SUPPORT
        role:
          type: string
          description: Role of note creator
          example: FIRST_LINE_SUPPORT
        partyId:
          type: string
          description: Party id (e.g. a personId or an organizationId)
          example: 81471222-5798-11e9-ae24-57fa13b361e1
      description: FindErrandNotesRequest model
    FindErrandNotesResponse:
      type: object
      properties:
        notes:
          type: array
          items:
            $ref: "#/components/schemas/ErrandNote"
        _meta:
          $ref: "#/components/schemas/MetaData"
      description: FindErrandNotesResponse model
      readOnly: true
    MetaData:
      type: object
      properties:
        page:
          type: integer
          description: Current page
          format: int32
          readOnly: true
          example: 5
        limit:
          type: integer
          description: Displayed objects per page
          format: int32
          readOnly: true
          example: 20
        count:
          type: integer
          description: Displayed objects on current page
          format: int32
          readOnly: true
          example: 13
        totalRecords:
          type: integer
          description: Total amount of hits based on provided search parameters
          format: int64
          readOnly: true
          example: 98
        totalPages:
          type: integer
          description: Total amount of pages based on provided search parameters
          format: int32
          readOnly: true
          example: 23
      description: Metadata model
    Event:
      type: object
      properties:
        type:
          $ref: "#/components/schemas/EventType"
        message:
          type: string
          description: Event description
          example: Errand has been created
        owner:
          type: string
          description: Service that created event
          example: SupportManagement
        created:
          type: string
          description: Timestamp when the event was created
          format: date-time
          example: 2000-10-31T01:30:00+02:00
        historyReference:
          type: string
          description: Reference to the snapshot of data at the time when the event
            was created
          example: fbe2fb67-005c-4f26-990f-1c95b5f6933e
        sourceType:
          type: string
          description: Source which the event refers to
          example: errand
        metadata:
          type: array
          items:
            $ref: "#/components/schemas/EventMetaData"
      description: Event model
      readOnly: true
    EventMetaData:
      type: object
      properties:
        key:
          type: string
          description: The key
          example: userId
        value:
          type: string
          description: The value
          example: john123
      description: Event Metadata model
    EventType:
      type: string
      description: Type of event
      enum:
      - CREATE
      - UPDATE
      - DELETE
      - UNKNOWN
    PageEvent:
      type: object
      properties:
        totalElements:
          type: integer
          format: int64
        totalPages:
          type: integer
          format: int32
        size:
          type: integer
          format: int32
        content:
          type: array
          items:
            $ref: "#/components/schemas/Event"
        number:
          type: integer
          format: int32
        first:
          type: boolean
        last:
          type: boolean
        numberOfElements:
          type: integer
          format: int32
        sort:
          $ref: "#/components/schemas/SortObject"
        pageable:
          $ref: "#/components/schemas/PageableObject"
        empty:
          type: boolean
    Communication:
      type: object
      properties:
        communicationID:
          type: string
          description: The communication ID
          example: "12"
        sender:
          type: string
          description: Sender of the communication.
          example: Test Testsson
        errandNumber:
          type: string
          description: The errand number
          example: PRH-2022-000001
        direction:
          type: string
          description: If the communication is inbound or outbound from the perspective
            of case-data/e-service.
          example: INBOUND
          enum:
          - INBOUND
          - OUTBOUND
        messageBody:
          type: string
          description: The message body
          example: Hello world
        htmlMessageBody:
          type: string
          description: The message body in HTML format
          example: <p>Hello world</p>
        sent:
          type: string
          description: The time the communication was sent
          format: date-time
        subject:
          type: string
          description: The email-subject of the communication
          example: Hello world
        communicationType:
          type: string
          description: The communication was delivered by
          example: EMAIL
          enum:
          - SMS
          - EMAIL
          - WEB_MESSAGE
        target:
          type: string
          description: The mobile number or email adress the communication was sent
            to
          example: "+46701740605"
        recipients:
          type: array
          description: "The recipients of the communication, if email"
          example:
          - kalle.anka@ankeborg.se
          items:
            type: string
            description: "The recipients of the communication, if email"
            example: "[\"kalle.anka@ankeborg.se\"]"
        internal:
          type: boolean
          description: Indicates if the communication is internal
          example: false
        viewed:
          type: boolean
          description: Signal if the communication has been viewed or not
          example: true
        emailHeaders:
          type: object
          additionalProperties:
            type: array
            description: Headers for keeping track of email conversations
            example:
              IN_REPLY_TO:
              - reply-to@example.com
              REFERENCES:
              - reference1
              - reference2
              MESSAGE_ID:
              - "123456789"
            items:
              type: string
              description: Headers for keeping track of email conversations
              example: "{\"IN_REPLY_TO\":[\"reply-to@example.com\"],\"REFERENCES\"\
                :[\"reference1\",\"reference2\"],\"MESSAGE_ID\":[\"123456789\"]}"
          description: Headers for keeping track of email conversations
          example:
            IN_REPLY_TO:
            - reply-to@example.com
            REFERENCES:
            - reference1
            - reference2
            MESSAGE_ID:
            - "123456789"
        communicationAttachments:
          type: array
          description: List of communicationAttachments on the message
          items:
            $ref: "#/components/schemas/CommunicationAttachment"
    CommunicationAttachment:
      type: object
      properties:
        id:
          type: string
          description: The attachment ID
          example: aGVsbG8gd29ybGQK
        fileName:
          type: string
          description: The attachment file name
          example: test.txt
        mimeType:
          type: string
          description: The attachment MIME type
          example: text/plain
      description: List of communicationAttachments on the message
    Attachment:
      type: object
      properties:
        id:
          type: string
          description: Attachment ID
          example: cb20c51f-fcf3-42c0-b613-de563634a8ec
        fileName:
          type: string
          description: Name of the file
          example: my-file.txt
        fileSize:
          type: integer
          description: Size of the file in bytes
          format: int32
          example: 1024
        mimeType:
          type: string
          description: Mime type of the file
        created:
          type: string
          description: The attachment created date
          format: date-time
          example: 2023-01-01T00:00:00+01:00
      description: Attachment model
    Message:
      type: object
      properties:
        id:
          type: string
          description: Message ID
          example: 1aefbbb8-de82-414b-b5d7-ba7c5bbe4506
        inReplyToMessageId:
          type: string
          description: The ID of the replied message
          example: 1aefbbb8-de82-414b-b5d7-ba7c5bbe4506
        created:
          type: string
          description: The timestamp when the message was created.
          format: date-time
        createdBy:
          $ref: "#/components/schemas/Identifier"
        content:
          type: string
          description: The content of the message.
          example: "Hello, how can I help you?"
        readBy:
          type: array
          items:
            $ref: "#/components/schemas/ReadBy"
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/Attachment"
        type:
          type: string
          description: Type of message (user or system created)
          readOnly: true
          example: USER_CREATED
          enum:
          - USER_CREATED
          - SYSTEM_CREATED
      description: Message model
    PageMessage:
      type: object
      properties:
        totalElements:
          type: integer
          format: int64
        totalPages:
          type: integer
          format: int32
        size:
          type: integer
          format: int32
        content:
          type: array
          items:
            $ref: "#/components/schemas/Message"
        number:
          type: integer
          format: int32
        first:
          type: boolean
        last:
          type: boolean
        numberOfElements:
          type: integer
          format: int32
        sort:
          $ref: "#/components/schemas/SortObject"
        pageable:
          $ref: "#/components/schemas/PageableObject"
        empty:
          type: boolean
    ReadBy:
      type: object
      properties:
        identifier:
          $ref: "#/components/schemas/Identifier"
        readAt:
          type: string
          description: The timestamp when the message was read.
          format: date-time
          example: 2023-01-01T12:00:00+01:00
      description: Readby model
    ErrandAttachment:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the attachment
          readOnly: true
          example: cb20c51f-fcf3-42c0-b613-de563634a8ec
        fileName:
          type: string
          description: Name of the file
          example: my-file.txt
        mimeType:
          type: string
          description: Mime type of the file
          readOnly: true
        created:
          type: string
          description: The attachment created date
          format: date-time
          example: 2023-01-01T00:00:00Z
      description: ErrandAttachment model
    CountResponse:
      type: object
      properties:
        count:
          type: integer
          format: int64
  securitySchemes: {}
